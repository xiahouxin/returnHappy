<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // function objectFactory() {
      //   let newObject = null;
      //   let constructor = Array.prototype.shift.call(arguments);
      //   let result = null;
      //   // 判断参数是否是一个函数
      //   if (typeof constructor !== "function") {
      //     console.error("type error");
      //     return;
      //   }
      //   // 新建一个空对象，对象的原型为构造函数的 prototype 对象
      //   newObject = Object.create(constructor.prototype);
      //   // // 将 this 指向新建对象，并执行函数
      //   result = constructor.apply(newObject, arguments);
      //   // // 判断返回对象
      //   // let flag =
      //   //   result &&
      //   //   (typeof result === "object" || typeof result === "function");
      //   // // 判断返回结果
      //   // return flag ? result : newObject;
      // }
      function news(fn, ...arg) {
        let obj = {};
        obj = Object.create(fn.prototype);
        fn.apply(obj, arg);
        return obj;
      }
      // 使用方法
      function Person(name, age) {
        this.name = name;
        this.age = age;
      }
      let person1 = news(Person, "张三", 15);
      console.log(person1);

      let person2 = new Person("李四", 15);
      console.log(person2);
    </script>
  </body>
</html>
